# ğŸŒ Internationalization (i18n) - Clinic 360

## Overview

The project now supports internationalization with Portuguese and English languages using `react-i18next`.

## ğŸ“¦ Installation

First, install the required dependencies:

```bash
npm install i18next react-i18next i18next-browser-languagedetector
```

## ğŸ—ï¸ File Structure

```
src/
  i18n/
    â”œâ”€â”€ index.ts                # i18n configuration
    â””â”€â”€ locales/
        â”œâ”€â”€ en.json            # English translations
        â””â”€â”€ pt.json            # Portuguese translations
  hooks/
    â””â”€â”€ useLanguage.ts         # Language management hook
  components/
    â””â”€â”€ LanguageSelector.tsx   # Language switcher component
```

## ğŸ¯ Features

- âœ… **Auto-detection** - Detects browser language
- âœ… **Local storage** - Saves user preference
- âœ… **Type safety** - Fully typed with TypeScript
- âœ… **Easy switching** - Language selector component
- âœ… **Fallback** - Falls back to English if translation missing

## ğŸ”§ Usage

### 1. Using Translations in Components

```tsx
import { useTranslation } from 'react-i18next';

function MyComponent() {
  const { t } = useTranslation();
  
  return (
    <div>
      <h1>{t('dashboard.title')}</h1>
      <p>{t('dashboard.overview')}</p>
    </div>
  );
}
```

### 2. Using the Language Hook

```tsx
import { useLanguage } from '../hooks/useLanguage';

function MyComponent() {
  const { currentLanguage, changeLanguage, getLanguageFlag } = useLanguage();
  
  return (
    <div>
      <span>Current: {getLanguageFlag(currentLanguage)}</span>
      <button onClick={() => changeLanguage('pt')}>
        PortuguÃªs
      </button>
    </div>
  );
}
```

### 3. Language Selector Component

The `LanguageSelector` component is already integrated in the Layout:

```tsx
import { LanguageSelector } from '../components/LanguageSelector';

function Header() {
  return (
    <div className="header">
      <LanguageSelector />
    </div>
  );
}
```

## ğŸ“ Translation Files

### Structure

Both `en.json` and `pt.json` follow the same structure:

```json
{
  "common": {
    "dashboard": "Dashboard",
    "patients": "Patients",
    "save": "Save",
    "cancel": "Cancel"
  },
  "dashboard": {
    "title": "Dashboard",
    "overview": "Clinic overview with statistics"
  },
  "patients": {
    "title": "Patient Management",
    "addPatient": "Add Patient"
  }
}
```

## ğŸ†• Adding New Translations

### 1. Add to JSON files

Add the same key to both language files:

**en.json:**
```json
{
  "newSection": {
    "newKey": "English text"
  }
}
```

**pt.json:**
```json
{
  "newSection": {
    "newKey": "Texto em portuguÃªs"
  }
}
```

### 2. Use in components

```tsx
const { t } = useTranslation();
return <span>{t('newSection.newKey')}</span>;
```

## ğŸ¨ Available Translations

### Common
- Navigation items (Dashboard, Patients, etc.)
- Actions (Save, Cancel, Edit, Delete)
- States (Loading, No data)

### Dashboard
- Title and overview
- Statistics labels
- Quick actions

### Patients
- Page title and subtitle
- Form fields
- Actions

### Appointments
- Scheduling interface
- Status labels
- Types and filters

### Doctors
- Team management
- Specialties
- Availability

### Consultations
- Medical records
- Symptoms and diagnosis
- Prescriptions

### Register
- Multi-step form
- All fields and options
- Validation messages

### Errors
- Error pages
- Error messages
- Recovery actions

## ğŸ’¡ Best Practices

### 1. Key Naming
- Use descriptive, hierarchical keys
- Group related translations
- Use camelCase for consistency

```json
{
  "patients": {
    "addPatient": "Add Patient",
    "editPatient": "Edit Patient",
    "deletePatient": "Delete Patient"
  }
}
```

### 2. Interpolation
For dynamic content, use interpolation:

```json
{
  "welcome": "Welcome, {{name}}!"
}
```

```tsx
t('welcome', { name: 'JoÃ£o' })
// Result: "Welcome, JoÃ£o!" or "Bem-vindo, JoÃ£o!"
```

### 3. Pluralization
For count-based translations:

```json
{
  "itemCount_one": "{{count}} item",
  "itemCount_other": "{{count}} items"
}
```

```tsx
t('itemCount', { count: 1 })  // "1 item"
t('itemCount', { count: 5 })  // "5 items"
```

## ğŸ”§ Configuration

The i18n configuration in `src/i18n/index.ts`:

```typescript
i18n
  .use(LanguageDetector)      // Auto-detect language
  .use(initReactI18next)      // React integration
  .init({
    fallbackLng: 'en',        // Default language
    debug: false,             // Debug mode
    detection: {
      order: ['localStorage', 'navigator', 'htmlTag'],
      caches: ['localStorage'], // Save preference
    },
  });
```

## ğŸ§ª Testing

Test language switching:

1. Open the app
2. Click the language selector (ğŸŒ)
3. Switch between Portuguese and English
4. Refresh the page - language should persist
5. Check browser language detection

## ğŸš€ Future Enhancements

Possible improvements:

- **More languages** - Spanish, French, etc.
- **Date/time formatting** - Localized dates
- **Number formatting** - Currency, decimals
- **RTL support** - Right-to-left languages
- **Lazy loading** - Load translations on demand

## ğŸ¯ Migration Guide

To migrate existing pages to use i18n:

1. **Replace hardcoded strings:**
```tsx
// Before
<h1>Dashboard</h1>

// After
const { t } = useTranslation();
<h1>{t('dashboard.title')}</h1>
```

2. **Add translations to JSON files**
3. **Test both languages**
4. **Update components gradually**

## ğŸ“± Mobile Considerations

The language selector is responsive:
- Desktop: Dropdown in header
- Mobile: Accessible via hamburger menu
- Touch-friendly interface
- Clear visual feedback

---

**Ready to make your clinic management system truly international! ğŸŒâœ¨** 
